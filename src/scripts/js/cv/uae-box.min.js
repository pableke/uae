/*core-box*/
const RE_VAR=/@(\w+);/g,HTML_P=newElem("p");function fnVoid(){}function fnTrue(){return!0}function fnParam(n){return n}function lt(n,t){return n<t?n:t}function gt(n,t){return n>t?n:t}function lt0(n){return isNaN(n)||n<0}function le0(n){return isNaN(n)||n<=0}function gt0(n){return!isNaN(n)&&n>0}function cmp(n,t){return n==t?0:n<t?-1:1}function range(n,t,r){return Math.min(Math.max(n,t),r)}function between(n,t,r){return t<=n&&n<=r}function extract(n,t,r){return n.splice(t,r),n}function exclude(n,t){var r=n.indexOf(t);return r<0?n:extract(n,r,1)}function ifind(n,t,r){return n&&t?n.findIndex(function(n){return n[t]==r}):-1}function distinct(n,t){return t?n.filter(function(r,e){return ifind(n,t,r[t])==e}):n}function swap(n,t,r){var e=n[t];return n[t]=n[r],n[r]=e,n}function put(n,t){return n.push(t),n}function pull(n){return extract(n,-1,1)}function isset(n){return void 0!==n&&null!=n}function isstr(n){return"string"==typeof n||n instanceof String}function isobj(n){return isset(n)&&"object"==typeof n&&!Array.isArray(n)}function strval(n){return isset(n)?(""+n).trim():""}function empty(n){return!n||!n.length}function nvl(n,t){return isset(n)?n:t}function fnSize(n){return n?n.length:0}function fnTrim(n){return isstr(n)?n.trim():n}function fnIO(n,t,r){return n?n.indexOf(t,r):-1}function split(n,t){return n?isstr(n)?n.split(t):Array.isArray(n)||isNaN(n)?n:[n]:n}function apply(n,t){return t&&isset(n)?t(n):n}function format(n,t){return n.replace(RE_VAR,function(n,r){return nvl(t[r],n)})}function render(n,t,r){return n.replace(RE_VAR,function(n,e){return nvl(apply(t[e],r[e]),n)})}function ucFirst(n){return n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}function reEscape(n){return n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function replaceAll(n,t,r){return n.replace(new RegExp(reEscape(t),"g"),r)}function strip(n){return HTML_P.innerHTML=n,text(HTML_P)}function minlength(n,t){return fnSize(n)>t}function trunc(n,t){return minlength(n,t)?n.substr(0,t).trim()+"...":n}function prevIndexOf(n,t,r){return n.substr(0,r).lastIndexOf(t)}function itrunc(n,t){var r=minlength(n,t)?prevIndexOf(n," ",t):-1;return trunc(n,r<0?t:r)}function tr(n){for(var t="",r=fnSize(n),e=0;e<r;e++){var u=n.charAt(e),i="àáâãäåāăąÀÁÂÃÄÅĀĂĄÆßèéêëēĕėęěÈÉĒĔĖĘĚìíîïìĩīĭÌÍÎÏÌĨĪĬòóôõöōŏőøÒÓÔÕÖŌŎŐØùúûüũūŭůÙÚÛÜŨŪŬŮçÇñÑþÐŔŕÿÝ".indexOf(u);t+=i<0?u:"aaaaaaaaaAAAAAAAAAABeeeeeeeeeEEEEEEEiiiiiiiiIIIIIIIIoooooooooOOOOOOOOOuuuuuuuuUUUUUUUUcCnNdDRryY".charAt(i)}return t}function ltr(n,t){for(var r=[],e=fnSize(n),u=0;u<e;u+=t)r.push(n.substr(u,t));return r}function rtl(n,t){for(var r=[],e=fnSize(n);e>t;e-=t)r.unshift(n.substr(e-t,t));return e>0&&r.unshift(n.substr(0,e)),r}function slices(n,t){for(var r=0,e=[],u=fnSize(n),i=0;i<t.length&&r<u;i++){var o=t[i];e.push(n.substr(r,o)),r+=o}return r<u?put(e,n.substr(r)):e}function dNaN(n,t){return isNaN(n)?t:n}function intval(n){return parseInt(n)||0}function floatval(n){return parseFloat(n)||0}function round(n,t){return t=dNaN(t,2),+(Math.round(n+"e"+t)+"e-"+t)}function parseNumber(n,t,r){if(!n)return 0;if(!isstr(n))return n;r=dNaN(r,2);var e=n.lastIndexOf(t||"."),u="-"==n.charAt(0)?"-":"";return parseFloat(u+(e<0?n.replace(/\D+/g,""):n.substr(0,e).replace(/\D+/g,"")+"."+n.substr(e+1,r)))}function fmtNumber(n,t,r,e){if(!isset(n))return"";e=dNaN(e,2);var u=r&&e>0,i=n<0?"-":"",o=round(n,e).toString(),f=(o=(n<0?o.substr(1):o)||"0").lastIndexOf(".");return i+(f<0?rtl(o,3).join(t)+(u?r+"0".lpad(e):""):rtl(o.substr(0,f),3).join(t)+(u?r+o.substr(f+1).rpad(e):""))}function npLatin(n){return toNumber(n,",")}function nfIso(n,t){return fmtNumber(n,",",".",t)}function nfLatin(n,t){return fmtNumber(n,".",",",t)}function isoToLatin(n){return n&&nfLatin(parseFloat(n))}function nhLatin(n,t){return n&&nfLatin(npLatin(n),t)}var toNumber=parseNumber,nfNumber=nfIso;function itr(n){return tr(fnTrim(n)).toLowerCase()}function iiOf(n,t){return itr(n).indexOf(itr(t))}function ilike(n,t){return iiOf(""+n,t)>-1}function olike(n,t,r){return t.some(function(t){return ilike(n[t],r)})}function alike(n,t,r){return!r||r.split(" ").some(function(r){return olike(n,t,r)})}function newElem(n){return document.createElement(n)}function addChild(n,t){return n.appendChild(t)}function addElem(n,t){return addChild(n,newElem(t))}function val(n){return strval(n&&n.value)}function text(n){return n&&fnTrim(n.textContent)}function html(n){return n&&fnTrim(n.innerHTML)}function boolval(n){return n&&"false"!==n&&"0"!==n}function redir(n,t){return n&&!window.open(n,t||"_blank")}function lang(){return navigator.language||navigator.userLanguage||"en"}function goUp(n){return $("html,body",n||window.document).animate({scrollTop:0},500)}function multisort(n,t,r,e,u){var i=r[u=u||0],o=e&&"asc"==e[u]?cmp(n[i],t[i]):cmp(t[i],n[i]);return 0==o&&u<r.length-1?multisort(n,t,r,e,u+1):o}JSON.read=function(n){return n?JSON.parse(n):null},JSON.get=function(n){return JSON.read(sessionStorage[n])},JSON.set=function(n,t){return n&&t&&(sessionStorage[n]=t),JSON},JSON.save=function(n,t){return JSON.set(n,t).get(n)},JSON.format=function(n,t,r){var e=r?function(n){return render(t,n,r)}:function(n){return format(t,n)};return $.isArray(n)?n.map(e).join(""):e(n)};
/*date-box*/
Date.daysInMonths=[31,28,31,30,31,30,31,31,30,31,30,31],Date.langs={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"]},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Juv","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"]},fr:{monthNames:["Janvier","Fevrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Decembre"],monthNamesShort:["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aou","Sep","Oct","Nov","Dec"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayNamesMin:["Di","Lu","Ma","Me","Je","Ve","Sa"]},it:{monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gio","Ve","Sa"]},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"]}};
var toDate,dpLatin,isLatin,sysdate=new Date;function lpad(t){return t<10?"0"+t:t}function isLeapYear(t){return 0==(3&t)&&(t%25!=0||0==(15&t))}function daysInMonth(t,e){return Date.daysInMonths[e]+(1==e&&isLeapYear(t))}function dayOfYear(t,e,n){return Date.daysInMonths.slice(0,e).reduce(acum,n+(e>1&&isLeapYear(t)))}function isDate(t){return/^\d{4}\D\d{1,2}\D\d{1,2}/.test(t)}function isLatinDate(t){return between(fnIO(t,"/"),1,2)&&between(t.lastIndexOf("/"),3,5)}function splitDate(t){return split(t,/\D+/)||[]}function parseDate(t){var e=splitDate(t).map(intval);if(e.length<3)return t&&new Date(isNaN(t)?Date.parse(t):+t);isLatinDate(t)&&swap(e,0,2);var n=daysInMonth(e[0],e[1]-1);return between(e[1],1,12)&&between(e[2],1,n)&&Date.build(e)}function dateHelper(t){return t&&t.replace(/^(\d{4})(\d+)$/g,"$1-$2").replace(/^(\d{4}\-\d\d)(\d+)$/g,"$1-$2").replace(/[^\d\-]/g,"")}function dhLatin(t){return t&&t.replace(/^(\d\d)(\d+)$/g,"$1/$2").replace(/^(\d\d\/\d\d)(\d+)$/g,"$1/$2").replace(/[^\d\/]/g,"")}function timeHelper(t){return t&&t.replace(/(\d\d)(\d+)$/g,"$1:$2").replace(/[^\d\:]/g,"")}function joinDate(t,e){return t.map(function(t){return lpad(intval(t))}).join(e||"-")}function fmtLatinDate(t){if(!t)return t;var e=splitDate(t);return fnSize(e[2])<3&&(e[2]=""+sysdate.getCentury()+lpad(intval(e[2]))),joinDate(e,"/")}function fmtTime(t){if(!t)return t;var e=splitDate(t);return e[1]=fnSize(e[1])<1?"0":e[1],joinDate(e,":")}function dfLatin(t){return t=t&&isstr(t)?toDate(t):t,Date.valid(t)?t.latin():t}function dtLatin(t){return t=t&&isstr(t)?toDate(t):t,Date.valid(t)?t.dtLatin():t}toDate=dpLatin=parseDate,isLatin=isLatinDate,Date.valid=function(t){return t&&t instanceof Date&&t.valid&&t.valid()},Date.load=function(t){return new Date(t.yyyy,t.m-1,t.d,t.h,t.M,t.s,t.ms)},Date.build=function(t){return new Date(+t[0],+t[1]-1,+t[2],t[3]||0,t[4]||0,t[5]||0,t[6]||0)},Date.dpIso=function(t){return Date.build(splitDate(t))};var dp=Date.prototype;dp.toArray=function(){return[this.getFullYear(),lpad(this.getMonth()+1),lpad(this.getDate()),lpad(this.getHours()),lpad(this.getMinutes()),lpad(this.getSeconds()),this.getMilliseconds()]},dp.toObject=function(t){t=t||lang();var e=this.getDay(),n=this.getFullYear().toString(),i=Date.langs[t]||Date.langs[t.substr(0,2)]||Date.langs.en,r={yyyy:+n,y:+n.substr(0,2),yy:+n.substr(2,2),m:this.getMonth(),d:this.getDate()};return r.mmm=i.monthNamesShort[r.m],r.mmmm=i.monthNames[r.m],r.mm=lpad(++r.m),r.ddd=i.dayNamesShort[e],r.dddd=i.dayNames[e],r.dd=lpad(r.d),r.h=this.getHours(),r.hh=lpad(r.h),r.M=this.getMinutes(),r.MM=lpad(r.M),r.s=this.getSeconds(),r.ss=lpad(r.s),r.ms=this.getMilliseconds(),r.t=r.h<12?"a":"p",r.tt=r.t+"m",r},dp.getCentury=function(){return intval(this.getFullYear()/100)},dp.startYear=function(){return new Date(this.getFullYear(),0,1)},dp.startMonth=function(){return new Date(this.getFullYear(),this.getMonth(),1)},dp.daysInMonth=function(){return daysInMonth(this.getFullYear(),this.getMonth())},dp.dayOfYear=function(){return dayOfYear(this.getFullYear(),this.getMonth(),this.getDate())},dp.daysInYear=function(){return isLeapYear(this.getFullYear())?366:365},dp.weekOfYear=function(){return this.weeks(this.startYear())},dp.weekOfMonth=function(){return this.weekOfYear()-this.startMonth().weekOfYear()+1},dp.valid=function(){return!isNaN(this.getTime())},dp.trunc=function(){return this.setHours(0,0,0,0),this},dp.format=function(t){return format(t,this.toObject())},dp.between=function(t,e){return t<=this&&this<=e},dp.min=function(t){return t&&t<this?t:this},dp.max=function(t){return t&&t>this?t:this},dp.in=function(t,e){return!t&&!e||(t?e?this.between(t,e):t<=this:this<=e)},dp.inMonth=function(t){return this.getFullYear()==t.getFullYear()&&this.getMonth()==t.getMonth()},dp.days=function(t){return Math.abs(this-t)/864e5},dp.weeks=function(t){return Math.ceil((this.days(t)+(t.getDay()||7))/7)},dp.addDate=function(t){return this.setDate(this.getDate()+t),this},dp.addHours=function(t){return this.setHours(this.getHours()+t),this},dp.addMilliseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},dp.dfMin=function(){return this.format("@yy;@mm;@dd;")},dp.dfMinTime=function(){return this.format("@h;:@MM;")},dp.dfShort=function(){return this.format("@yy;-@m;-@d;")},dp.dfShortTime=function(){return this.format("@h;:@MM; @tt;")},dp.isoDate=function(){return this.format("@yyyy;-@mm;-@dd;")},dp.latin=function(){return this.format("@dd;/@mm;/@yyyy;")},dp.dtLatin=function(){return this.format("@dd;/@mm;/@yyyy; @hh;:@MM;:@ss;")},dp.dfIso=function(){return this.format("@yyyy;-@mm;-@dd;T@hh;:@MM;:@ss;.@ms;Z")},dp.dfFull=function(){return this.format("@dddd;, @mmmm; @d;, @yyyy;")},dp.toJSON=dp.dfIso,dp.diff=function(t){if(this>(t=t||sysdate))return t.diff(this);var e=t.toArray(),n=[0,12,this.daysInMonth()-this.getDate()+t.getDate(),24,60,60,1e3];return this.toArray().forEach((t,i)=>{!function t(e,i,r){e[i]-=r,e[i]<0&&(e[i]+=n[i],t(e,i-1,1))}(e,i,t)}),e},dp.fmtdiff=function(t,e){var n=this.diff(e),i={yyyy:n[0],yy:n[0],m:n[1],d:n[2]};return i.mm=lpad(i.m),i.dd=lpad(i.d),i.h=n[3],i.M=n[4],i.s=n[5],i.hh=lpad(i.h),i.MM=lpad(i.M),i.ss=lpad(i.s),i.ms=n[6],format(t,i)},dp.interval=function(t,e,n,i){var r=this;i=i||1e3;var a=new Date(this.getTime()+t),s=setInterval(function(){r.addMilliseconds(i),(!e(r,a)||a<=r)&&(clearInterval(s),n&&n())},i);return this};
/*image-box*/
!function(e){var t={duration:400,preserveHeight:!0,prevText:"&lang;",nextText:"&rang;",closeText:"&times;",bulletText:"&bullet;",imgLoading:"data:image/svg+xml;base64,"+btoa('<svg version="1.1" id="L1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="70px" height="80px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve"><rect x="0" y="10" width="4" height="10" fill="#333" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.6s" repeatCount="indefinite"/><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.6s" repeatCount="indefinite"/><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.6s" repeatCount="indefinite"/></rect><rect x="8" y="10" width="4" height="10" fill="#333" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.6s" repeatCount="indefinite"/><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.6s" repeatCount="indefinite"/><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.6s" repeatCount="indefinite"/></rect><rect x="16" y="10" width="4" height="10" fill="#333" opacity="0.2"><animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.6s" repeatCount="indefinite"/><animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.6s" repeatCount="indefinite"/><animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.6s" repeatCount="indefinite"/></rect></svg>'),classOverlay:"ibox",classWrapper:"ibox-wrapper",classButtons:"ibox-buttons",classButtonClose:"ibox-close",classButtonPrev:"ibox-prev",classButtonNext:"ibox-next",classBullets:"ibox-bullets",classBullet:"ibox-bullet",classActiveBullet:"ibox-active",classTitle:"ibox-title",beforeChange:fnVoid,afterChange:fnVoid},i=newElem("div"),a=addElem(i,"div"),n=addElem(a,"img"),s=addElem(a,"a"),l=addElem(a,"a"),r=addElem(a,"a"),u=e(a).children("a"),c=e(addElem(a,"div")),d=[],o=null,h=0;function b(){return e(i).fadeOut(o.duration,o.onClose),o=null}function f(e){o&&(27==e.keyCode?b():37==e.keyCode?l.click():39==e.keyCode&&r.click())}function p(t){u.hide(),h=t=range(t,0,o.list.length-1);var i=o.list[t];return e(HTML_P).html(i.title),o.beforeChange(i,t),!e(n).fadeOut(o.duration,function(){this.src=i.href;var a=c.children().removeClass(o.classActiveBullet).get(t);e(a).addClass(o.classActiveBullet),e(this).fadeIn(o.duration,function(){if(o.preserveHeight){var a=n.height+"px",s={"line-height":a,height:a};e(l).css(s),e(r).css(s)}u.show(),o.afterChange(i,t)})})}e.fn.ibClose=function(){return e(i).fadeOut(t.duration,function(){e(a).children().show()}),this},e.fn.ibOpen=function(){return e(a).children().hide(),e(n).attr("src",t.imgLoading).show(),e(i).show(),this},e.fn.ibox=function(n){return n=e.extend({list:this},t,n),d.push(n),e(a).attr("class",n.classWrapper),u.attr("class",n.classButtons),e(l).addClass(n.classButtonPrev).html(n.prevText),e(r).addClass(n.classButtonNext).html(n.nextText),e(s).addClass(n.classButtonClose).html(n.closeText),this.click(function(){var t=this;e(i).attr("class",n.classOverlay).fadeIn(n.duration),e(addChild(a,HTML_P)).attr("class",n.classTitle);var s=(o=d.find(function(e){return e.list.index(t)>-1})).list.get().map(function(){return format('<a href="#" class="@classBullet;">@bulletText;</a>',n)}).join(""),l=c.addClass(n.classBullets).html(s).children();return l.click(function(){return p(l.index(this))}),p(o.list.index(t))})},e(function(){e(a).addClass(t.classWrapper),e(addChild(document.body,i)).addClass(t.classOverlay).click(b),s.href=l.href=r.href="#",n.src=t.imgLoading,e(l).click(function(){return p(h-1)}),e(r).click(function(){return p(h+1)}),e(s).click(b),e(document).keyup(f)})}(jQuery);
/*message-box*/
var _es={default:"Valor incorrecto!",required:"Campo obligatorio!",minlength:"Longitud m&iacute;nima = @minlength;",maxlength:"Longitud m&aacute;xima excedida",email:"Formato de E-Mail incorrecto",regex:"Formato incorrecto",number:"Formato n&uacute;merico incorrecto",min:"Valor m&iacute;nimo = @min;",max:"Valor m&aacute;ximo excedido",range:"Valor fuera del rango permitido",digits:"Valor no n&uacute;merico",date:"Formato de fecha incorrecto",mindate:"Fecha m&iacute;nima = @mindate;",maxdate:"Fecha m&aacute;xima excedida",time:"Hora incorrecta",remove:"¿Confirma que desea eliminar este registro?",cancel:"¿Confirma que desea cancelar este registro?"};
!function(n){var e,r={fadeDuration:1e3,preserveHeight:!0,closeText:"&times;",wrapperClass:"mbox",mboxClass:"mbox-div",buttonClose:"mbox-close",textClass:"mbox-text",iconClass:"mbox-icon",okClassName:"mbox-ok",okIcon:"&#10004;",infoClassName:"mbox-info",infoIcon:"&#120154;",warnClassName:"mbox-warn",warnIcon:"&#9888;",errorClassName:"mbox-error",errorIcon:"&#10008;"},t='<div class="@type; @mboxClass;"><b class="@iconClass;">@icon;</b><b class="@buttonClose;">@closeText;</b><p class="@textClass;">@msg;</p></div>';function o(o,s,a,i,c){if(s){r.msg=s,r.type=a,r.icon=i,e.prepend(format(t,r));var m=e.children().first().fadeIn(r.fadeDuration);n("."+r.buttonClose,m).click(function(){m.fadeOut(r.fadeDuration,function(){m.remove()})});var u=m.children().get().reduce(function(e,r){return gt(n(r).outerHeight(!0),e)},0);r.preserveHeight&&n("."+r.iconClass,m.height(u)).height(u-4),c&&setTimeout(function(){m.fadeOut(r.fadeDuration)},c)}return o}n.fn.mbOk=function(n,e){return o(this,n,r.okClassName,r.okIcon,e)},n.fn.mbInfo=function(n,e){return o(this,n,r.infoClassName,r.infoIcon,e)},n.fn.mbWarn=function(n,e){return o(this,n,r.warnClassName,r.warnIcon,e)},n.fn.mbError=function(n,e){return o(this,n,r.errorClassName,r.errorIcon,e)},n.fn.mbFlushOut=function(){return this.fadeOut(r.fadeDuration)},n.fn.mbFlushErr=function(){return e.find("."+r.errorClassName).mbFlushOut(),this},n.fn.mbFlush=function(){return e.children().fadeOut(r.fadeDuration),this},n.fn.mBox=function(t){return n.extend(r,t),e=this.length?this:n("<div>").addClass(r.wrapperClass).appendTo(document.body),this.children("."+r.okClassName).each(function(){var e=n(this);e.mbOk(e.remove().html())}),this.children("."+r.infoClassName).each(function(){var e=n(this);e.mbInfo(e.remove().html())}),this.children("."+r.warnClassName).each(function(){var e=n(this);e.mbWarn(e.remove().html())}),this.children("."+r.errorClassName).each(function(){var e=n(this);e.mbError(e.remove().html())}),this}}(jQuery);
/*table-box-v3*/
!function(t){var e={order:{},stats:{},types:{},styles:{},tpls:{},groupColumns:[],groupExpand:-1,noCellText:"",noBodyText:"",onLoad:fnVoid,beforePush:fnVoid,onPush:fnVoid,afterPush:fnVoid,onChange:fnVoid,onView:fnVoid},n="tbody",r="tr";function s(t,e,n){return t.data.map(function(r){return function(t,e,n,r){return e.replace(RE_VAR,function(e,s){return nvl(apply(n[s],r[s]),t.noCellText)})}(t,e,r,n)}).join("")}function o(t,e){return"<"+t+">"+e+"</"+t+">"}function a(e,n){t("tbody,tfoot",e).remove(),t(e).append(n)}function i(t){return o(r,'<td colspan="@columns;">'+t+"</td>")}function l(t,e){return o("tfoot",render(e,t.stats,t.styles))}function c(t,e,r){return o(n,s(t,e,t.styles)||format(i(t.noBodyText),t.stats))+l(t,r)}function u(t,e){return t.columns=e,t.columns_1=e-1,t.columns_2=e-2,t}function d(t,e,n){return t.numrows=e,u(t,n)}function f(e){return e.grouped=!0,e.childnodes=[],e.data.forEach(function(n,r){var s=e;s.groupColumns.forEach(function(o,a){var i=apply(n[o],s.styles[o]),l=s.childnodes.find(function(t){return t.text==i});l||((l=t.extend({text:i},e)).stats=d({level:a},0,s.stats.columns),l.stats.text=l.stats[o]=i,l.data=[],l.childnodes=[],s.childnodes.push(l),s.childnodes.sort(function(t,e){return cmp(t.text,e.text)}),l.beforePush(l.stats)),l.data.push(n),l.onPush(n,l.stats,r),s=l})}),e}function m(t,e){return t.childnodes.map(function(t){t.stats.rowspan=t.childnodes.length+1,t.afterPush(d(t.stats,t.data.length,t.stats.columns));var n,r,s=(n=e,r=t.stats,t.styles,n.replace(RE_VAR,function(t,e){return nvl(r[e],"")})).split("<td");return extract(s,1,t.stats.level).join("<td")+m(t,e)}).join("")}var h={};t.fn.tbList=function(){return this.each(function(t,e){h[e.id]&&h[e.id].list()})},t.fn.tbPush=function(t){return this.each(function(e,n){h[n.id]&&h[n.id].push(t)})},t.fn.tbLoad=function(t){return this.each(function(e,n){h[n.id]&&h[n.id].load(t)})},t.fn.tbExtract=function(t,e){return this.each(function(n,r){h[r.id]&&h[r.id].extract(t,e)})},t.fn.tbIndex=function(t,e){var n=h[this.attr("id")];return n?n.ifind(t,e):-1},t.fn.tBox=function(p){t.extend(p,t.extend({},e,p));var x=this.filter("table"),v=this.not("table");p.recalc=function(){return p.beforePush(p.stats),p.data.forEach(function(t,e){t.tbIndex=e,t.tbIndex1=e+1,p.onPush(t,p.stats,e)}),p.afterPush(d(p.stats,p.data.length,0)),p},p.push=function(t){return t&&(p.data.push(t),p.recalc()),p},p.extract=function(t,e){return p.data.splice(t,e||1),p.recalc()},p.reset=function(){return p.extract(0,p.data.length).list()},p.ifind=function(t,e){return e=e||"id",t?ifind(p.data,e,t[e]):-1},p.load=function(t){return t&&(p.data=t,p.recalc().list()),p},p.list=function(){return v.each(function(e,n){var r=p.tpls[n.id]||html(n)||"";t(n).html(s(p,r,p.styles)),p.tpls[n.id]=r,p.onView(n,p.data,p.stats)}).filter("select").unbind("change").change(function(t){p.onChange(p.data[this.selectedIndex],p.data,this,t)}),x.each(function(e,r){var s=r.id+"-footer";u(p.stats,t("th",r.tHead).length);var i=p.tpls[r.id]||r.tBodies&&html(r.tBodies[0])||"",d=p.tpls[s]||html(r.tFoot)||"";a(r,t(r).hasClass("tb-pivot")?o(n,m(f(p),i))+l(p,d):c(p,i,d)),p.tpls[r.id]=i,p.tpls[s]=d,p.onView(r,p.data,p.stats)}),p.grouped=!1,p},p.group=function(){return x.not(".tb-pivot").each(function(e,s){var m=t(document).scrollTop(),h=t("table",s).get().map(function(e,n){return t(e).is(":visible")?n:-1}),x=p.tpls[s.id+"-footer"];u(p.stats,t("th",s.tHead).length),a(s,function t(e,r,s){var a=e.childnodes.map(function(e){e.afterPush(d(e.stats,e.data.length,e.stats.columns));var a=i('<table class="tb-group tb-group-@level;">'+t(e,r,s)+"</table>");return format(o(n,(e.groupCaption||i(e.text))+a),e.stats)});return a.length?o(n,a.join("")):c(e,r,s)}(f(p),p.tpls[s.id],x)+l(p,x));var v=t("table",s);v.filter("table.tb-group-"+(p.groupColumns.length-1)).prepend(t(s.tHead).clone(!0)),v.closest(r).prev().addClass("tb-resume").click(function(){t(this.nextSibling).fadeToggle()}),v.filter(".tb-group-"+p.groupExpand).parents().show(),p.onView(s,p.data,p.stats),v.each(function(e,n){h.indexOf(e)>-1&&t(n).parents().show()}),t(document).scrollTop(m)}),p};var y={xmlColumns:[]};p.xml=function(){var e=[p].concat(Array.prototype.slice.call(arguments)).map(function(e,n){t.extend(y,e);var s=y.data.map(function(t,e){var n=y.xmlColumns.map(function(e){var n=t[e];return o(e,Date.valid(n)?n.dfIso():strip(n))});return o(r,n.join(""))});return o("t"+n,s.join(""))}).join("");return'<?xml version="1.0" encoding="utf-8"?>'+o("tables",e)};var b='<Cell ss:StyleID="@idStyle;"@extra;><Data ss:Type="@nameType;">@xlsval;</Data></Cell>',g={author:"Table Box",created:Date.now(),wsStyles:"",headers:"",rows:"",wsName:"Sheet",xlsColumns:{},xlsStyles:{}};function S(t,e){return g.idStyle=t,g.extra="",g}function C(t,e){return g.nameType=t,g.xlsval=e,g}p.xls=function(){var e=format('<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"><Author>@author;</Author><Created>@created;</Created><Version>10.3501</Version></DocumentProperties><Styles><Style ss:ID="Default" ss:Name="Normal"><Font/><Interior/><NumberFormat/></Style><Style ss:ID="Header"><Font ss:Bold="1" ss:Size="10"/><Alignment ss:Horizontal="Center" ss:Vertical="Center" ss:WrapText="1"/></Style><Style ss:ID="HeadRow"><Font ss:Bold="1" ss:Size="10"/><Alignment ss:Vertical="Top"/></Style><Style ss:ID="Float"><NumberFormat ss:Format="Standard"/><Alignment ss:Horizontal="Right"/></Style><Style ss:ID="Integer"><NumberFormat ss:Format="0"/><Alignment ss:Horizontal="Right"/></Style><Style ss:ID="DefaultDate"><NumberFormat ss:Format="Long Date"/></Style><Style ss:ID="LatinDate"><NumberFormat ss:Format="dd/mm/yyyy"/></Style>@wsStyles;</Styles>',t.extend(g,p)),n=[p].concat(Array.prototype.slice.call(arguments)).map(function(e,n){t.extend(g,e);var r=Object.keys(g.xlsColumns);return g.headers=Object.values(g.xlsColumns).map(function(t){return format(b,(e="String",n=t,S("Header"),C(e,n)));var e,n}).join(""),g.rows=g.data.map(function(t){return o("Row",r.map(function(e){var n=t[e];return isstr(n)?C("String",strip(n)):Date.valid(n)?C("DateTime",n.dfIso()):C("Number",n),format(b,S(g.xlsStyles[e]||"Default"))}).join(""))}).join(""),format('<Worksheet ss:Name="@wsName;"><Table><Row ss:AutoFitHeight="1" ss:StyleID="Header">@headers;</Row>@rows;</Table><WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel"><ProtectObjects>False</ProtectObjects><ProtectScenarios>False</ProtectScenarios></WorksheetOptions></Worksheet>',g)}).join("");return'<?xml version="1.0" encoding="utf-8" standalone="yes"?><?mso-application progid="Excel.Sheet"?>'+'<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">@workbook;</Workbook>'.replace("@workbook;",e+n)};var w=t("[name].tb-order",x).each(function(e,n){var r=p.order[t(n).attr("name")];r&&t(n).addClass("tb-order-"+r)}).click(function(){var e=t(this).attr("name"),n=p.order[e]="asc"==p.order[e]?"desc":"asc";p.data.sort("asc"==n?function(t,n){return cmp(t[e],n[e])}:function(t,n){return cmp(n[e],t[e])}),w.removeClass("tb-order-asc tb-order-desc").filter("[name='"+e+"']").addClass("tb-order-"+n),p.grouped?p.group():p.list()}),D=this.attr("id");if(D){for(var N in h[D]=p,p.data=p.data||JSON.read(this.prev("#tb-"+D).text())||[],p.types)p.data.forEach(function(t){t[N]=apply(t[N],p.types[N])});p.data=p.onLoad(p.data)||p.data,p.recalc().list()}return this},t.fn.save=function(e){return e=e||{},this.each(function(n,r){var s=t(r).attr("name"),o=JSON.read(text(r));JSON.set(s,o&&JSON.stringify(apply(o,e[s])))})},t.fn.render=function(){var t=this.find("[render],[clear],[contents]");return t.filter("[render]").filter("[render='0'],[render='false']").remove(),t.filter("[clear]").filter("[clear!='0'][clear!='false']").remove(),t.filter("[contents]").filter("[contents='0'],[contents='false']").text(""),t.removeAttr("render").removeAttr("clear").removeAttr("contents"),this},t.fn.tbTree=function(){return this.each(function(e,n){t(n).children("[parent!='']").each(function(e,r){var s=t("#"+t(r).attr("parent"),n)[0];s&&addChild(s.lastChild.tagName==n.tagName?s.lastChild:addElem(s,n.tagName),r)})})}}(jQuery);
/*form-box-v3*/
!function(t){var n={primaryKey:"id",minLength:3,maxResults:8,tipNameTag:"span",tipNameClass:"errtip",errNameClass:"err-input",msgs:{},RE_DIGITS:/^\d+$/,RE_IDLIST:/^\d+(,\d+)*$/,RE_MAIL:/\w+[^\s@]+@[^\s@]+\.[^\s@]+/,RE_LOGIN:/^[\w!@&#%\$\^\*\)\(\+\.\-]{6,}$/,RE_IPv4:/^([0-9]{1,3}\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$/,RE_IPv6:/^([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4}$/,RE_URL:/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,onLoad:fnVoid,onRemove:fnVoid,onFilter:fnTrue,onSelect:fnVoid,onRender:fnVoid,onStart:fnTrue,onFile:fnTrue,onComplete:fnVoid},e=",",i=", ";function r(t){return!isNaN(t)}function a(n,e){return floatval(t(n).attr(e))}function u(t,n){try{return!n||t.test(n)}catch(t){}return!1}var o,c,s,f={};f.required=function(t,n,e){return!!e.value},f.minlength=function(t,n,e){return!e.value||floatval(n)<=fnSize(e.value)},f.maxlength=function(t,n,e){return!e.value||floatval(n)>=fnSize(e.value)},f.regex=function(t,e,i){return u(n[e],t)},f.email=function(t,e,i){return u(n.RE_MAIL,t)},f.digits=function(t,e,i){return u(n.RE_DIGITS,t)},f.idlist=function(t,e,i){return u(n.RE_IDLIST,t)},f.array=function(t,n){return!t||!n||Array.isArray(t)},f.hasval=function(n,e,i){return!n||t(e).val()},f.equalto=function(n,e,i){return!n||n==t(e).val()},f.number=function(t,n,e){return!e.value||r(t)},f.min=function(t,n,e){return!e.value||!n||r(n)&&r(t)&&floatval(n)<=t},f.max=function(t,n,e){return!e.value||!n||r(n)&&r(t)&&floatval(n)>=t},f.range=function(t,n,i){if(!i.value||!n)return!0;var a=n.split(e).filter(r).map(parseFloat);return 2===a.length&&r(t)&&between(t,a[0],a[1])},f.date=function(t,n,e){return!t||!n||Date.valid(t)},f.mindate=function(t,n,e){if(!t||!n)return!0;var i=new Date(r(n)?+n:n);return Date.valid(i)&&f.date(t,n,e)&&i<=t},f.maxdate=function(t,n,e){if(!t||!n)return!0;var i=new Date(r(n)?+n:n);return Date.valid(i)&&f.date(t,n,e)&&i>=t},f.time=function(t,n,e){if(!t||!n)return!0;var i=t.split(":").filter(r).map(parseFloat);return 2===i.length&&between(i[0],0,23)&&between(i[1],0,59)||3===i.length&&between(i[0],0,23)&&between(i[1],0,59)&&between(i[2],0,59)};var l=n.tipNameTag+"."+n.tipNameClass;function d(t){return t.join(e)}function h(t,n){return t.length==n.length}function p(){s.submitData()}o=c=s=t(),t.fn.fBox=function(e){return t.extend(e,t.extend(n,e)),e.validators=t.extend(f,e.validators),l=e.tipNameTag+"."+e.tipNameClass.split(/\s+/g).join("."),s=this.inputs().clean().seterr("onload").change(function(){e.changed=!0}).initData().setFocus(),this.submit(p)};var v={};function m(t){return t?+t.substr(t.lastIndexOf("-")+1):0}function g(t){return k(t,m(t.closest(".tab-content").attr("id")))}function y(n){return k(t(o[n]).inputs(),n)}function k(t,n){return o.setClass(1<<n,"active"),c.setClass(1<<n,"active"),t.setFocus()}t.fn.seterr=function(e){var i=0;return e=e||n.msgs.default||"",this.each(function(r,u){var o=t(u),c=isstr(e)?e:e[u.id];if(c=o.attr("msg-"+c)||n.msgs[c]||c,fnIO(c," ")>0){i++||g(o);var s=o.data("style");v.minlength=o.attr("minlength"),v.maxlength=o.attr("maxlength"),v.min=apply(a(u,"min"),s),v.max=apply(a(u,"max"),s),v.mindate=apply(o.attr("mindate"),s),v.maxdate=apply(o.attr("maxdate"),s);var f=o.addClass(n.errNameClass).errbox();(f=f.length?f.show():o.after(newElem(n.tipNameTag)).next()).addClass(n.tipNameClass).html(format(c,v))}})},t.fn.errbox=function(){return this.siblings(l)},t.fn.inputs=function(){return this.find("input[type!=file],textarea,select")},t.fn.sortid=function(){return this.sort(function(t,n){return cmp(t.id,n.id)})},t.fn.isset=function(n){return this.filter(function(){return isset(t(this).data(n))})},t.fn.initData=function(){return this.each(function(n,e){e.value=apply(val(e),t(e).data("init"))})},t.fn.submitData=function(){return this.isset("submit").css("color","silver").each(function(n,e){e.value=apply(val(e),t(e).data("submit"))}),this},t.fn.filterData=function(n,e){return this.filter(function(){return t(this).data(n)==e})},t.fn.setFocus=function(){return this.filter(":visible:not([readonly])").first().focus(),this},t.fn.clean=function(){return this.removeClass(n.errNameClass).errbox().hide(),this.setFocus()},t.fn.flush=function(){return s.clean().mbFlush(),this},t.fn.showif=function(t){return t?this.show():this.hide()},t.fn.view=function(n){return this.each(function(e,i){t(i).showif(n>>e&1)})},t.fn.showon=function(t,n){return this.change(function(){t.showif(this.value==n)}).change()},t.fn.classif=function(t,n){return t?this.addClass(n):this.removeClass(n)},t.fn.setClass=function(n,e){return this.each(function(i,r){t(r).classif(n>>i&1,e)})},t.fn.mask=function(t){return this.setClass(~t,"hide")},t.fn.optval=function(t){return this.children("option[value='"+t+"']")},t.fn.selected=function(t){var n=this.children().mask(t);return this.val()&&!this.optval(this.val()).hasClass("hide")||this.val(n.not(".hide").val()),this},t.fn.required=function(n){var e=this;return e.each(function(i,r){r.id=r.id||"_"+Math.random().toString(36).substr(2,9);var a=e.data(r.id)||t("[required]",r);a.attr("required",!!(n>>i&1)),e.data(r.id,a)})},t.fn.unrequired=function(){return this.attr("required",!1).val("").clean()},t.fn.failures=function(){return this.filter("."+n.errNameClass)},t.fn.isOk=function(){return 0==this.failures().length},t.fn.valid=function(){return s.validate()},t.fn.validate=function(){this.clean().each(function(e,i){var r=!0,a=i.attributes.length,u=apply(val(i),t(i).data("parse"));for(e=0;e<a&&r;e++){var o=i.attributes[e];r=(f[o.name]||fnTrue)(u,val(o),i)||!t(i).seterr(o.name)}i.value=apply(i,r&&n[i.id+"-ok"]||val)});var e=this.failures();return!e.length||!g(e)},t.fn.send=function(n){var e=t.extend({},n),i=this.closest("form");return e.url=e.url||i.attr("action"),e.type=e.type||i.attr("method")||"get",e.dataType=e.dataType||"json","post"!=e.type?t.ajax(e):(p(),e.data=new FormData(i[0]),s.isset("submit").css("color","black").initData(),e.contentType=e.processData=!1,t.ajax(e))},t.fn.tabs=function(n){o=this;var e="a[href^='#tab-']";return(c=this.find("ul.tabs").children().view(n)).find(e).unbind("click").click(function(){return!y(m(this.href))}),o.each(function(i,r){t(e,r).unbind("click").click(function(){let t=m(this.href);if(t>m(r.id))for(;!(n>>t&1)&&t<100;)t++;else for(;!(n>>t&1)&&t>0;)t--;return t<100&&!y(t)})}),this},t.fn.gotab=function(t){return y(t),this},t.fn.counter=function(){function n(){t("#counter",this.parentNode).text(Math.abs(a(this,"maxlength")-this.value.length))}return this.each(n).unbind("keyup",n).keyup(n)},t.fn.multival=function(t){var n=this,i=split(n.val(),e);return(t=t.sortid().each(function(t,n){n.value=i[t]||n.value})).change(function(){n.val(d(t.get().map(val)))}),n},t.fn.cblist=function(n){var i=this,r=i.val()||"";function a(t){var r=t&&split(t,e);return n.each(function(t,n){n.checked=fnIO(r,n.value)>-1}),i.attr("type","checkbox").prop("checked",r&&n.length>0&&h(r,n)),t}return n.change(function(){var t=n.filter(":checked").get();i.prop("checked",h(n,t)),i.val(d(t.map(val)))}),i.data({init:a,style:a,reset:function(){return r},submit:function(){return i.val()&&i.attr("type","hidden").val()}}).click(function(){n.prop("checked",t(this).prop("checked")).first().change()})},t.fn.cbbin=function(n){var e=this,i=e.val()||"";function r(t){return n.each(function(n,e){e.checked=!!(t>>n&1)}),e.attr("type","checkbox").prop("checked",n.length>0&&h(n,n.filter(":checked"))),t}return n.change(function(){e.val(n.get().reduce(function(t,n,e){return t|n.checked<<e},0)),e.prop("checked",h(n,n.filter(":checked")))}),e.data({init:r,style:r,reset:function(){return i},submit:function(){return e.val()&&e.attr("type","hidden").val()}}).click(function(){n.prop("checked",t(this).prop("checked")).first().change()})},t.fn.reset=function(){return n.changed=!1,this.closest("form").trigger("reset"),s.each(function(n,e){e.value=apply(val(e),t(e).data("reset"))}).initData(),this.flush()},t.fn.import=function(n){return this.each(function(e,i){i.value=apply(n[i.id],t(i).data("style"))||i.value})},t.fn.export=function(n){return n=n||{},this.each(function(e,i){n[i.id]=apply(val(i),t(i).data("parse"))}),n},t.fn.acLoad=function(n){return this.each(function(e,i){apply(n,t(i).data("load"))})},t.fn.acVal=function(n){return this.each(function(e,i){i.value=apply(n,t(i).data("style"))})},t.fn.acGet=function(n){return t(this).data("get")(n)},t.fn.ac=function(r){return t.extend(r,t.extend({},n,r)),this.each(function(n,a){var u,o,c,s,f,l=t(a);function h(){return u.splice(0),o.splice(0),c.splice(0),r}function p(){return o.pop(),c.pop(),r}function v(t,n){return o.push(+t),c.push(n),r}function m(){return u.reduce(function(t,n){return t+n.length+2},0)}function g(t){return r.multiple&&t?t.substr(m()):t}function y(){return r.multiple&&u.length?u.join(i)+i:u[0]}function k(t){return f=0,u.findIndex(function(n){return f+=n.length+2,t<f})}function b(t,n){a.selectionStart=t,a.selectionEnd=n}function x(t){b(f-fnSize(u[t])-2,f-2)}function C(t){var n=fnSize(a.value);if(r.multiple){var e=range(Math.min(a.selectionStart,a.selectionEnd),0,n);e<n&&x(k(e))}else b(0,n);t.preventDefault()}r.flush=function(){return l.clean().val(""),h()},r.load=function(t){return t&&(r.data=t),r},r.find=function(t){return r.data.find(function(n){return n[r.primaryKey]==t})},r.get=function(t){return r.multival?isNaN(t)?c:c[t]:c[0]},r.readonly=l.is("[readonly]"),r.readonly||(r.submit=function(){return d(o)},r.parse=function(){return o},r.style=function(t){return h(),(split(t,e)||o).forEach(function(t){var n=t&&r.find(t),e=n&&v(t,n).onSelect(n,r.data,a);e?u.push(e):p()}),y()||l.val()},r.init=r.style,l.data(r),r.source=function(t,n){function e(t){r.data=t||r.data;t=distinct(r.data,r.uk);n(t.filter(function(n,e){return o.indexOf(n[r.primaryKey])<0&&r.onFilter(n,s,e,t)}).slice(0,r.maxResults))}s=g(t.term),r.onSource&&fnSize(s)>=r.minLength?r.onSource(e,r):e()},r.search=function(){return fnSize(g(l.val()))>=r.minLength},r.focus=function(t,n){return!1},r.select=function(t,n){if(n.item){r.multiple||(p(),u.pop());var e=v(n.item[r.primaryKey],n.item).onSelect(n.item,r.data,a);e?u.push(e):p(),l.val(y())}return!1},l.click(C).dblclick(C).keydown(function(t){var n,e=r.multiple?m()-2:fnSize(a.value);9===t.keyCode?l.autocomplete("instance").menu.active&&t.preventDefault():!o.length||a.selectionStart>e+2||(8==t.keyCode&&a.selectionStart>=e||37==t.keyCode&&a.selectionStart<=e+2||38==t.keyCode?(x(k(a.selectionStart-2)),t.preventDefault()):39!=t.keyCode&&40!=t.keyCode||a.selectionEnd!=e?(39==t.keyCode||40==t.keyCode)&&a.selectionStart<e?(a.selectionStart=a.selectionEnd+3,C(t)):8==t.keyCode||46==t.keyCode?(n=k(a.selectionStart),extract(u,n,1),extract(o,n,1),extract(c,n,1),l.val(y()),r.onRemove(c,a),t.preventDefault()):t.keyCode>=48&&(0==a.selectionStart&&a.selectionEnd>=e?r.flush().onRemove(c,a):(b(e+2,e+2),188==t.keyCode&&t.preventDefault())):a.selectionStart=e+1)}).autocomplete(r).autocomplete("instance")._renderItem=function(n,e){var i=r.onRender(e,s,n)||e.label||"";return t("<li></li>").append("<div>"+i+"</div>").appendTo(n)}),u=[],o=[],c=[],r.data=r.data||JSON.read(l.prev("#tb-"+a.id).text())||[],r.data=r.onLoad(r.data)||r.data})};var b=new FileReader;function x(t){return t.type.startsWith("image/")?b.readAsDataURL(t):n.encoding?b.readAsText(t,n.encoding):b.readAsBinaryString(t),t}t.fn.freader=function(){return this.each(function(t,e){b.onload=function(t){n.onFile(t,u),++i<a?u=x(r[i]):n.onComplete(r)};var i=0,r=e.files,a=fnSize(r),u=a&&x(r[i])})},t.fn.swapAttr=function(n,e){return this.each(function(i,r){for(var a in t(r).attr(e),n)isset(e[a])||t(r).removeAttr(a)})},t.fn.clicks=function(){var t=arguments;return this.click(function(n){for(var e=0;e<t.length;e++)if(!t[e](this,n))return!1;return!0})}}(jQuery);
/*util*/
var ZEROS="0000000000",B64MT={xls:"data:application/vnd.ms-excel;base64,",pdf:"data:application/pdf;base64,",txt:"data:text/plain;base64,"},sp=String.prototype;sp.ltr=function(t){return ltr(this,t)},sp.rtl=function(t){return rtl(this,t)},sp.ilike=function(t){return ilike(this,t)},sp.lpad=function(t){return t?(ZEROS+this).substr(-1*t):this},sp.rpad=function(t){return t?(this+ZEROS).substr(0,t):this},sp.rput=function(t){return t>this.length?this+" ".repeat(t-this.length):this},sp.equal=function(t){return this.toLowerCase()==t.toLowerCase()},sp.prefix=function(t){return this.startsWith(t)?this:t+this},sp.suffix=function(t){return this.endsWith(t)?this:this+t},sp.utf8ToB64=function(){return window.btoa(unescape(encodeURIComponent(this)))},sp.b64ToUtf8=function(){return decodeURIComponent(escape(window.atob(this)))},sp.iIndexOf=function(t){return iiOf(this,t)},sp.prevIndexOf=function(t,n){return prevIndexOf(this,t,n)},sp.insertAt=function(t,n){return this.substr(0,t)+n+this.substr(t)},sp.replaceAt=function(t,n,i){return t<0?this:this.substr(0,t)+i+this.substr(t+n)},sp.replaceLast=function(t,n){return this.replaceAt(this.lastIndexOf(t),t.length,n)},sp.replaceAll=function(t,n){return replaceAll(this,t,n)},sp.wrapAt=function(t,n,i,e){return t<0?this:this.insertAt(t,i).insertAt(t+i.length+n,e)},sp.iwrap=function(t,n,i){return this.wrapAt(iiOf(this,t),t.length,n||"<u><b>",i||"</u></b>")},sp.slices=function(t){return slices(this,t)},sp.chunk=function(){return this.slices(Array.prototype.slice.call(arguments))},sp.minify=function(){return this.trim().replace(/\s{2}/g,"")},sp.words=function(){return this.trim().split(/\s+/)},sp.lines=function(){return this.trim().split(/[\n\r]+/)},sp.format=function(t){return format(this,t)},sp.toFirstCase=function(){return ucFirst(this)},sp.toTitleCase=function(){return this.words().map(ucFirst).join(" ")},sp.toDate=function(){return Date.build(this.chunk(4,2,2,2,2,2,3))},sp.toDateTime=function(){return Date.dpIso(this)},sp.dpLatin=function(){return toDate(this)},sp.dfLatin=function(){return this.toDateTime().latin()},sp.npLatin=function(){return npLatin(this)},sp.nfLatin=function(){return npLatin(this).latin()},sp.toNumber=function(t,n){return toNumber(this,t,n)};var ap=Array.prototype;ap.each=function(t){return this.forEach(t),this},ap.put=function(){return this.push.apply(this,arguments),this},ap.merge=function(t){return t&&this.push.apply(this,t),this},ap.combine=function(t,n){return this.reduce(function(n,i,e){return n[i]=t[e],n},n||{})},ap.intersect=function(t){return this.filter(function(n){return t.indexOf(n)>-1})},ap.multisort=function(t,n){return this.sort(function(i,e){return multisort(i,e,t,n)})},ap.shuffle=function(){return this.sort(function(){return.5-Math.random()})},ap.swap=function(t,n){return swap(this,t,n)},ap.remove=function(t,n){return extract(this,t,n)},ap.reset=function(){return this.remove(0,this.length)},ap.last=function(){return this[this.length-1]},ap.pull=function(){return pull(this,-1,1)};var np=Number.prototype;function bfLatin(t){return boolval(t)?"Sí":"No"}function fnBool(t){return t&&"Sí"==t}function lopd(t){return t?"***"+t.substr(3,4)+"**":t}function openLoading(){return $("body").ibOpen()}function closeLoading(){return $("body").ibClose()}function xhrok(t){goUp().mbOk(t||"Operaci&oacute;n realizada correctamente.")}function xhrerr(t){return!goUp().mbError(t&&t.responseText||"Error al ejecutar la operaci&oacute;n")}function link(t,n,i,e){return ajax({url:t,data:n,dataType:e}).done(i).fail(xhrerr)}function aimg(t){return link(t.href,null,function(n){$(t.target).attr("src",n)})}function json(t,n,i){return link(t,n,i,"json")}function ajax(t){return openLoading(),t.type=t.type||"get",t.dataType=t.dataType||"html",$.ajax(t).always(closeLoading)}np.lpad=function(t){return this.toString().lpad(t)},np.rpad=function(t){return this.toString().rpad(t)},np.between=function(t,n){return between(this,t,n)},np.round=function(t){return round(this,t)},np.range=function(t,n){return range(this,t,n)},np.format=function(t,n,i){return fmtNumber(this,t,n,i)},np.latin=function(t){return nvLatin(this,t)},np.iso=function(t){return nvIso(this,t)},Math.rand=function(t,n){return Math.random()*(n-t)+t},Math.randInt=function(t,n){return Math.floor(Math.rand(t,n))},Math.randText=function(t){return Math.random().toString(36).substr(2,t||8)},Math.randTime=function(t,n){return Math.randInt(t.getTime(),n.getTime())},Math.randDate=function(t,n){return new Date(Math.randTime(t,n))},$(function(){function t(t){return $("section").html(t)}var n={size:"9",maxlength:"9",upper:"true",remove:"^ES",spanishid:"true","msg-spanishid":"Formato de CIF / NIF / NIE incorrecto",placeholder:"12345678A"},i={size:"50",maxlength:"50"},e=$(".latin-float").data({init:isoToLatin,parse:npLatin,style:nfLatin});e.filter("input").blur(function(){this.value=nhLatin(this.value)}),e.not("input").each(function(t,n){$(n).text(isoToLatin(text(n)))});var r=$(".latin-date").data({init:dfLatin,parse:dpLatin,style:dfLatin});r.filter("input").keyup(function(){this.value=dhLatin(this.value)}).blur(function(){this.value=fmtLatinDate(this.value)}),r.not("input").each(function(t,n){$(n).text(dfLatin(text(n)))}),$(".time").keyup(function(){$(this).val(timeHelper(this.value))}).blur(function(){this.value=fmtTime(this.value)}),$(".latin-bool").data({init:bfLatin,parse:fnBool,style:bfLatin}),$(".tb-save").save();var a={tipNameClass:"arrow-left tooltip",validators:{spanishid:window.validSpainId},msgs:_es,onFilter:function(t,n){return olike(t,["nif","nombre","utCodigo","utDesc"],n)},onRender:function(t,n){return t.nombre.iwrap(n,"<u><b>","</b></u>")+"<br>"+t.utCodigo.iwrap(n,"<u><b>","</b></u>")+" - "+t.utDesc.iwrap(n,"<u><b>","</b></u>")},onSelect:function(t,n){return t.utCodigo+" - "+t.utDesc},onFile:function(t,n){var i=n.type.startsWith("image/")&&t.target.result;i=i||"img/ext/"+this.icon(n.name.substr(n.name.lastIndexOf(".")+1).toLowerCase()),u.find("#carrusel").append('<div class="file-wrapper" style="background-image:url('+i+');"><p class="file-title">'+n.name+"</p></div>")},onComplete:function(){u.ibClose()}},s=$.extend({primaryKey:"idUsuario",onRemove:function(t){console.log(t)}},a);$("#multi").ac($.extend({primaryKey:"idUsuario",data:JSON.get("one"),multiple:!0,onRemove:function(t){console.log(t)}},a)).counter();var o=$("#one").ac(s),u=$("form"),c=u.inputs();c.filter("#binval").cbbin(c.filter("[name='fb-binval']")),c.filter("#binval2").cbbin(c.filter("[name='fb-binval2']")),c.filter("#cblist").cblist(c.filter("[name='fb-cblist']")),c.filter("#cblist2").cblist(c.filter("[name='fb-cblist2']"));var l=c.filter("#spanishIds").attr(n);$("#list").tBox({data:[{ej:2019},{ej:2018},{ej:2017},{ej:2016}],onChange:function(t,n){console.log(t,n)}});u.fBox(a).tabs(7),u.each(function(){c.import({number:19.62,date:new Date(2014,0,1),multi:null,list:2017,binval:2,cblist:"23,87",gender:"female"})}),u.find("input[type=file]").change(function(){u.find("#carrusel").html("").ibOpen().mbFlush(),$(this).freader()}),u.find("a#load").click(function(){return c.import(JSON.get("test")||{}),!u.mbInfo("Datos cargados correctamente.")}),u.find("a#save").click(function(){var t=c.export();return console.log(t),JSON.set("test",JSON.stringify(t)),!u.mbInfo("Datos guardados correctamente.")}),u.find("button[type=reset]").click(function(){return!u.find(".f2").required(3).reset()}),u.find("button[type=submit]").click(function(){return c.validate()||xhrerr()}),u.find("a#ajax").click(function(){return u.validate()&&openLoading()&&!u.send().done(xhrok).fail(xhrerr).always(closeLoading)}),u.find("a[href=duplicate]").click(function(){return!1}),u.find("a#errores").click(function(){return!c.seterr({regex:"regex",date:"maxlength",email:"not mail!"})}),u.find("a#mask").click(function(){return!u.find(".f2").required(2)}),u.find("a#swap").click(function(){return!(l.hasClass("swapped")?l.swapAttr(i,n):l.swapAttr(n,i)).toggleClass("swapped")}),u.find("[name].fb-addac").showif(!o.attr("readonly")).click(function(){s.flush()});var f=$(document.body).append('<img src="img/png/top.png" class="back-to-top"/>').children().last().click(goUp);$(window).scroll(function(){$(this).scrollTop()>200?f.fadeIn(500):f.fadeOut(500)}),$("a.ajax").click(function(){return!link(this.href,null,t)}),$("ul#menu").tbTree().fadeIn().css("display","inline-block"),$("div[name=srvmsg]").mBox()});